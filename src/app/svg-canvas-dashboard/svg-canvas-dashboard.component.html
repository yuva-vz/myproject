<div class="svg-canvas-dashboard-wrapper">
  <!-- Dashboard Controls -->
  <div class="dashboard-controls">
    <h2>ğŸ¨ SVG + Canvas Dashboard</h2>
    <div class="control-buttons">
      <button class="btn btn-primary" (click)="generateCanvasThumbnail()" [disabled]="isGenerating">
        <span *ngIf="!isGenerating">ğŸ“¸ Capture SVG â†’ Canvas</span>
        <span *ngIf="isGenerating">â³ Generating...</span>
      </button>
      
      <button class="btn btn-secondary" (click)="generateCanvasDirectly()" [disabled]="isGenerating">
        ğŸ¯ Generate Canvas Directly
      </button>
      
      <button class="btn btn-success" (click)="downloadCanvasAsImage()" 
              [disabled]="!canvasGenerated" *ngIf="canvasGenerated">
        ğŸ’¾ Download PNG
      </button>
      
      <button class="btn btn-info" (click)="copyCanvasToClipboard()" 
              [disabled]="!canvasGenerated" *ngIf="canvasGenerated">
        ğŸ“‹ Copy to Clipboard
      </button>
    </div>
  </div>

  <div class="dashboard-content">
    <!-- Interactive SVG Dashboard -->
    <div class="svg-section">
      <h3>ğŸ–¼ï¸ Interactive SVG Dashboard</h3>
      <div #dashboardContainer class="dashboard-charts">
        <div
          class="chart-container"
          *ngFor="let chart of layoutData; let i = index"
          [style.left]="chart.position.x"
          [style.top]="chart.position.y"
          [style.width]="chart.position.w"
          [style.height]="chart.position.h">
          
          <svg
            [attr.id]="'chart-' + chart.type + '-' + i"
            width="100%"
            height="100%">
          </svg>
        </div>
      </div>
    </div>

    <!-- Canvas Thumbnail -->
    <div class="canvas-section" *ngIf="showThumbnail">
      <h3>ğŸ¯ Canvas Thumbnail ({{ thumbnailSize.width }}Ã—{{ thumbnailSize.height }})</h3>
      <div class="canvas-container">
        <canvas #thumbnailCanvas
                [width]="thumbnailSize.width"
                [height]="thumbnailSize.height"
                [style.width.px]="thumbnailSize.width"
                [style.height.px]="thumbnailSize.height">
        </canvas>
        
        <div class="canvas-info" *ngIf="canvasGenerated">
          <p>âœ… Canvas Generated Successfully!</p>
          <p>ğŸ“ Dimensions: {{ thumbnailSize.width }} Ã— {{ thumbnailSize.height }}px</p>
          <p>ğŸ¨ Format: PNG with transparency support</p>
        </div>
      </div>
    </div>
  </div>

  <!-- Feature Explanation -->
  <div class="feature-explanation">
    <h4>ğŸ”¥ Why This Is Powerful:</h4>
    <div class="features-grid">
      <div class="feature-card">
        <h5>ğŸ–¼ï¸ SVG Benefits</h5>
        <ul>
          <li>âœ… Interactive & Scalable</li>
          <li>âœ… Crisp at any size</li>
          <li>âœ… DOM manipulation</li>
          <li>âœ… CSS styling</li>
        </ul>
      </div>
      
      <div class="feature-card">
        <h5>ğŸ¯ Canvas Benefits</h5>
        <ul>
          <li>âœ… High performance</li>
          <li>âœ… Image export (PNG/JPG)</li>
          <li>âœ… Pixel manipulation</li>
          <li>âœ… Fixed dimensions</li>
        </ul>
      </div>
      
      <div class="feature-card">
        <h5>ğŸš€ Combined Power</h5>
        <ul>
          <li>âœ… Design in SVG</li>
          <li>âœ… Export via Canvas</li>
          <li>âœ… Thumbnail generation</li>
          <li>âœ… Best of both worlds</li>
        </ul>
      </div>
    </div>
  </div>

  <!-- Workflow Steps -->
  <div class="workflow-steps">
    <h4>ğŸ“‹ Workflow Example:</h4>
    <ol>
      <li>ğŸ‘¨â€ğŸ’» User builds dashboard with interactive SVG charts</li>
      <li>ğŸ“¸ Click "Capture SVG â†’ Canvas" to convert to image</li>
      <li>ğŸ¯ Canvas creates a fixed-size thumbnail (219Ã—149px)</li>
      <li>ğŸ’¾ Export as PNG or copy to clipboard</li>
      <li>ğŸ”„ Use thumbnail for previews, reports, or sharing</li>
    </ol>
  </div>
</div>
